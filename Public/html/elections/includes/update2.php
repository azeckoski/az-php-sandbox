<?phpfunction nl2p($str){  return str_replace('<p></p>', '', '<p>' . preg_replace('#\n|\r#', '</p>$0<p>', $str) . '</p>');}function nl2br_skip_html($string){   // remove any carriage returns (mysql)   $string = str_replace("\r", '', $string);   // replace any newlines that aren't preceded by a > with a <br />   $string = preg_replace('/(?<!>)\n/', "<br />\n", $string);   return $string;}            //  $first=addslashes($_POST['firstname']);//$last=addslashes($_POST['lastname']);//$institution=addslashes($_POST['Institution']);//$email1=addslashes($_POST['institution']);//$bio=addslashes($_POST['bio']);//$platform=addslashes($_POST['platform']); $first=addslashes($_POST['firstname']);$last=addslashes($_POST['lastname']);$institution=addslashes($_POST['Institution']);$bio=addslashes($_POST['bio']);$platform=addslashes($_POST['platform']);//add html tags for returns so text will display properly on html pages$bio=nl2p($bio);   $platform=nl2p($platform);   //check for required fields and make sure they are registered for the conferencerequire ('includes/mysqlconnect.php');  $register=" UPDATE `elections_auth` SET   `last` = '$last',  `first` = '$first' ,    `institution` = '$institution',  `bio` = '$bio',  `platform` = '$platform'          WHERE `id` = $user_id LIMIT 1" ;		    	$result = mysql_query($register);		  	//echo $user_id;header("Location:view_entry.php?id=$user_id&logged=1");	?>  